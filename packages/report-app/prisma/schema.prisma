generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Repo {
  id                String   @id // provider+repoID
  pathWithNamespace String   @map("path_with_namespace")
  createdAt         DateTime @map("created_at")

  @@map("canyon_next_report_app_repo")
}

model Coverage {
  id        String @id // provider+repoID 例如 github-1000|pr|10
  subject   String
  subjectID String @map("subject_id")

  diffData   Bytes @map("diff_data")
  noDiffData Bytes @map("no_diff_data")

  createdAt DateTime @map("created_at")

  @@map("canyon_next_report_app_coverage")
}

// report-data.js = {...diff-data.js,no-diff-data.js}
