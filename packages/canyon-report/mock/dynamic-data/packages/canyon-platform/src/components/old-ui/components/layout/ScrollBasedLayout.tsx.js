window["packages/canyon-platform/src/components/old-ui/components/layout/ScrollBasedLayout.tsx"] = {"content":"import { FC, ReactNode, useEffect, useState } from \"react\";\nconst { useToken } = theme;\n\nconst ScrollBasedLayout: FC<{\n  sideBar: ReactNode;\n  mainContent: ReactNode;\n  footer: ReactNode;\n}> = ({ sideBar, mainContent, footer }) => {\n  const { token } = useToken();\n  const [isScrolled, setIsScrolled] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      const footer = document.getElementById(\"footer\");\n\n      // 检查滚动是否超过100vh\n      setIsScrolled(scrollY + window.innerHeight > footer.offsetTop);\n    };\n\n    // 添加滚动事件监听器\n    window.addEventListener(\"scroll\", handleScroll);\n\n    setTimeout(() => {\n      document.documentElement.scrollTop += 0.5;\n    }, 1000);\n\n    // 在组件卸载时移除监听器，以防止内存泄漏\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []); // 仅在组件挂载和卸载时运行\n\n  return (\n    <div>\n      <div\n        style={{\n          display: \"flex\",\n          borderBottom: `1px solid ${token.colorBorder}`,\n        }}\n      >\n        <div\n          style={{\n            width: \"260px\",\n            background: \"\",\n            position: `${isScrolled ? \"unset\" : \"fixed\"}`,\n            display: `${!isScrolled ? \"unset\" : \"flex\"}`,\n            flexDirection: \"column\",\n          }}\n        >\n          <div style={{ flex: \"1\" }}></div>\n\n          <div style={{ height: \"100vh\", background: \"\" }}>{sideBar}</div>\n        </div>\n\n        <div\n          style={{\n            flex: \"1\",\n            marginLeft: `${!isScrolled ? \"260px\" : \"0\"}`,\n            minHeight: \"100vh\",\n          }}\n        >\n          {mainContent}\n        </div>\n      </div>\n      <div id={\"footer\"} style={{ height: \"200px\" }}>\n        {footer}\n      </div>\n    </div>\n  );\n};\n\nexport default ScrollBasedLayout;\n","coverage":{"name":"zt"}}