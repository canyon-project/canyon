# 自定义数据上报

在某些场景下，特别是 APP 内嵌的 H5 页面需要上报覆盖率数据时，由于没有类似 PC 的 Canyon Chrome 扩展，需要自定义实现覆盖率数据上报功能。

## 适用场景

- APP 内嵌的 H5 页面
- 无法使用 Canyon Chrome 扩展的环境
- 需要自定义上报逻辑的场景
- 移动 Web 应用

## 实现方案

以下是一个基本的自定义上报实现方案：

```javascript copy
const coverageFirstValue = Object.values(window.__coverage__||{})[0];
if (coverageFirstValue) {
  fetch(coverageFirstValue.dsn,{
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      Authorization: `Bearer ${coverageFirstValue.reporter}`
    },
    body: JSON.stringify({
      coverage: window.__coverage__,
      ...coverageFirstValue
    })
  })
}
```