# 前提条件

独自のインフラストラクチャ上でCanyonをインストールするための前提条件。

CanyonはDockerコンテナのセットとしてパッケージ化された、セルフホスト型API開発プラットフォームです。[Docker Engine](https://docs.docker.com/engine)を実行できる任意のオペレーティングシステム上でCanyonをインストールして実行できます。ローカルマシンまたは選択したクラウドプロバイダー上でCanyonを使用できます。

## システム要件

Canyonは小規模および大規模なデプロイメントの両方で良好に動作するよう設計されています。Canyonを実行するための最小要件は、Dockerをサポートするオペレーティングシステムと、ビルドイメージを生成するための4つのCPUコア + 4GB RAM、および生成された出力ファイルをホストするための少なくとも1つのCPUコア + 2GB RAMです。

### Node.js、npm、pnpmのインストール

#### Node.js + npm

[`Node.js`](https://nodejs.org/en) (v18+) と [`npm`](https://www.npmjs.com) (v9+) をインストールします。

- [Node.js + npm インストールマニュアル](https://nodejs.org/en/download)

### pnpm

[`pnpm`](https://pnpm.io) (v9推奨) をインストールします。

- [pnpm インストールマニュアル](https://pnpm.io/installation)

### Docker

[`Docker`](https://www.docker.com) (v20+) をインストールします。

- [Docker インストールマニュアル](https://docs.docker.com/engine/install)

### Postgresデータベース

Canyonは基本データを保存するためにPostgresデータベースを使用します（14.x以上が必要）。選択した任意のPostgresデータベースプロバイダーを使用できます - ローカルまたはクラウドプロバイダー上でホストされています。以下の形式の有効なPostgresデータベースURLを持っていることを確認してください：

```
postgres://username:password@localhost:5432/dbname
```

#### テーブルの作成

```shell
pnpm run migrate
```

または、テーブル作成[SQL](https://github.com/canyon-project/canyon/blob/main/packages/canyon-backend/prisma/create_table.sql)を直接使用します。
