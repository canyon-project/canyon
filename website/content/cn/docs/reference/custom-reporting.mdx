# 自定义数据上报

在某些场景下，特别是APP内嵌的H5页面需要上报覆盖率数据时，由于没有类似PC端的Canyon Chrome插件，需要自定义实现覆盖率数据的上报功能。

## 适用场景

- APP内嵌的H5页面
- 无法使用Canyon Chrome插件的环境
- 需要自定义上报逻辑的场景
- 移动端Web应用

## 实现方案

以下是一个基本的自定义上报实现方案：

```javascript copy
const coverageFirstValue = Object.values(window.__coverage__||{})[0];
if (coverageFirstValue) {
  fetch(coverageFirstValue.dsn,{
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      Authorization: `Bearer ${coverageFirstValue.reporter}`
    },
    body: JSON.stringify({
      coverage: window.__coverage__,
      ...coverageFirstValue
    })
  })
}
```