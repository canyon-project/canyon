# **変更コードカバレッジ**

**変更コードカバレッジ**により、今回の変更コードのテスト状況に焦点を当てることができます。

## 次元


### **追加（ファイル）行カバレッジ**

**計算ロジック：**
1. git diffで2つのコミット間の差分ファイルを取得 => 差分行番号（コメント、空白行を含む場合があります）
2. 変更ファイルの**coverageMap**の**branchMap**、**fnMap**、**statementMap**を走査し、差分行番号を含むかどうかを確認
3. **カバー済み**の定義：差分行番号が含まれる**branchMap**、**fnMap**、**statementMap**がすべてカバーされている

**計算式：**


```
追加（ファイル）行カバレッジ = カバー済み（ファイル）行数 / 追加（ファイル）行総数
```

### **追加ブランチカバレッジ**

**計算ロジック：**
1. git diffで2つのコミット間の差分ファイルを取得 => 差分行番号
2. 変更ファイルの**coverageMap**の**branchMap**を走査し、差分行番号を含むかどうかを確認
3. **カバー済み**の定義：差分行番号が含まれる**branchMap**がカバーされている

**計算式：**
```
追加ブランチカバレッジ = カバー済みブランチ数 / 追加ブランチ総数
```

### **追加関数カバレッジ**

**計算ロジック：**
1. git diffで2つのコミット間の差分ファイルを取得 => 差分行番号
2. 変更ファイルの**coverageMap**の**fnMap**を走査し、差分行番号を含むかどうかを確認
3. **カバー済み**の定義：差分行番号が含まれる**fnMap**がカバーされている

**計算式：**
```
追加関数カバレッジ = カバー済み関数数 / 追加関数総数
```

### **追加ステートメントカバレッジ**
**計算ロジック：**
1. git diffで2つのコミット間の差分ファイルを取得 => 差分行番号
2. 変更ファイルの**coverageMap**の**statementMap**を走査し、差分行番号を含むかどうかを確認
3. **カバー済み**の定義：差分行番号が含まれる**statementMap**がカバーされている
**計算式：**
```
追加ステートメントカバレッジ = カバー済みステートメント数 / 追加ステートメント総数
```
